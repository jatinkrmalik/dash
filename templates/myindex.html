<!DOCTYPE html>
<html>
<head>
    <title>Convert JSON Data to HTML Table Example</title>
    <style>
        table, th, td 
        {
            margin:10px 0;
            border:solid 1px #333;
            padding:2px 4px;
            font:15px Verdana;
        }
        th {
            font-weight:bold;
        }
    </style>
</head>

<script>


    
       /* var myjson = [
    {
        "phone": "+91 (960) 593-2005",
        "email": "jennyayers@kiggle.com",
        "gender": "female",
        "address": "521 Baycliff Terrace, Homeworth, Washington,1489",
        "name": "Clay Myers",
        "shuttl_credit": 861,
        "last_ten_trip": [2845],
           "name1": "Clay Myers",
        "shuttl_credit1": 861,
        "last_ten_trip1": [2845]
    },
    {
        "phone": "+91 (864) 593-3934",
        "email": "claymyers@kiggle.com",
        "gender": "male",
        "address": "280 Empire Boulevard, Dowling, Minnesota,5319",
        "name": "Gill Benjamin",
        "shuttl_credit": 57,
        "last_ten_trip": [9327]
    }
]*/


  $(document).ready(function () {
    $.getJSON('http://localhost:5000/all_user',
    function (myjson) {
       
        // for header
        var col = [];
        for (var i = 0; i < myjson.length; i++) {
            for (var key in myjson[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        // create dynamic table
        var table = document.createElement("table");

        // creating table raw

        var tr = table.insertRow(-1);                   

        for (var i = 0; i < col.length; i++) {
            // table header
            var th = document.createElement("th");      
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        // adding json data into table raw
        for (var i = 0; i < myjson.length; i++) {

            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myjson[i][col[j]];
            }
        }

        // container which hold the table
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";

        //appending table into container
        divContainer.appendChild(table);

    });
});

       
    
</script> 

<body>


<form action = "http://localhost:5000/one_user" method = get>
  Find User Details:<br>
  <input type="text" name="email" value="">
  <input type="submit" value="Get"> 
</form>

<form action = "http://localhost:5000/all_user" method = get>
  Find All user Details :
  <br>
   <input type="sumit" value="Create Table From JSON" />
</form> 
    <div id="showData"></div>
</body>
</html>